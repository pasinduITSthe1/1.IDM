# ğŸ¨ QloApps API Setup - Visual Step-by-Step Guide

## ğŸ“¸ Follow these exact steps with screenshots descriptions

---

## Step 1: Access Admin Panel

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒ Browser Address Bar                             â”‚
â”‚  http://localhost/1.IDM/admin134miqa0b/             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Enter your QloApps admin credentials:
- Email: your-admin@email.com
- Password: â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢
```

---

## Step 2: Navigate to WebService Settings

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QloApps Admin Dashboard                            â”‚
â”‚                                                      â”‚
â”‚  Click on the menu:                                 â”‚
â”‚  Advanced Parameters > Webservice                   â”‚
â”‚                                                      â”‚
â”‚  You should see:                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Enable webservice: [NO] [YES]              â”‚     â”‚
â”‚  â”‚ Enable CGI mode: [NO] [YES]                â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš ï¸ Make sure "Enable webservice" is set to YES
```

---

## Step 3: Add New WebService Key

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WebService Keys List                               â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  [+ Add new webservice key]                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                      â”‚
â”‚  Click this button â†‘                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Step 4: Generate API Key

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Add/Edit Webservice Key                            â”‚
â”‚                                                      â”‚
â”‚  Key: [                              ] [Generate!]  â”‚
â”‚       â†‘ Click "Generate!" button                   â”‚
â”‚                                                      â”‚
â”‚  Result: 32 character key appears:                  â”‚
â”‚  AB12CD34EF56GH78IJ90KL12MN34OP56                  â”‚
â”‚                                                      â”‚
â”‚  Description: [Hotel Staff Mobile App        ]     â”‚
â”‚               â†‘ Type this                          â”‚
â”‚                                                      â”‚
â”‚  Status: ( ) Disabled  (â€¢) Enabled                 â”‚
â”‚          â†‘ Select "Enabled"                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’¡ TIP: Right-click the key and "Copy" it immediately!
```

---

## Step 5: Set Permissions (THE CRITICAL PART!)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Permissions                                                         â”‚
â”‚                                                                      â”‚
â”‚  Resource            All  View  Modify  Add  Delete  Fast View      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                      â”‚
â”‚  âš ï¸ DO NOT CHECK "All" - It gives too many permissions!            â”‚
â”‚                                                                      â”‚
â”‚  Scroll down and CHECK THESE BOXES:                                â”‚
â”‚                                                                      â”‚
â”‚  addresses           [ ]  [âœ“]   [âœ“]    [âœ“]  [ ]     [âœ“]            â”‚
â”‚  bookings            [ ]  [âœ“]   [âœ“]    [ ]  [ ]     [âœ“]            â”‚
â”‚  customer_messages   [ ]  [âœ“]   [ ]    [âœ“]  [ ]     [âœ“]            â”‚
â”‚  customers           [ ]  [âœ“]   [âœ“]    [âœ“]  [ ]     [âœ“]            â”‚
â”‚  employees           [ ]  [âœ“]   [ ]    [ ]  [ ]     [âœ“]            â”‚
â”‚  extra_demands       [ ]  [âœ“]   [ ]    [âœ“]  [ ]     [âœ“]            â”‚
â”‚  hotel_features      [ ]  [âœ“]   [ ]    [ ]  [ ]     [âœ“]            â”‚
â”‚  hotel_room_types    [ ]  [âœ“]   [ ]    [ ]  [ ]     [âœ“]            â”‚
â”‚  hotel_rooms         [ ]  [âœ“]   [âœ“]    [ ]  [ ]     [âœ“]            â”‚
â”‚  hotels              [ ]  [âœ“]   [ ]    [ ]  [ ]     [âœ“]            â”‚
â”‚  images              [ ]  [âœ“]   [ ]    [âœ“]  [ ]     [âœ“]            â”‚
â”‚  order_details       [ ]  [âœ“]   [ ]    [ ]  [ ]     [âœ“]            â”‚
â”‚  order_payments      [ ]  [âœ“]   [ ]    [âœ“]  [ ]     [âœ“]            â”‚
â”‚  orders              [ ]  [âœ“]   [âœ“]    [ ]  [ ]     [âœ“]            â”‚
â”‚  room_bookings       [ ]  [âœ“]   [âœ“]    [ ]  [ ]     [âœ“]            â”‚
â”‚  services            [ ]  [âœ“]   [ ]    [ ]  [ ]     [âœ“]            â”‚
â”‚                                                                      â”‚
â”‚  âš ï¸ LEAVE ALL OTHER RESOURCES UNCHECKED!                           â”‚
â”‚  âš ï¸ NEVER CHECK "Delete" FOR ANY RESOURCE!                         â”‚
â”‚                                                                      â”‚
â”‚  [Save]  [Cancel]                                                   â”‚
â”‚   â†‘ Click Save when done                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“‹ Print the QLOAPPS_PERMISSIONS_CHECKLIST.md and check boxes as you go!
```

---

## Step 6: Verify API Key Creation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WebService Keys List                               â”‚
â”‚                                                      â”‚
â”‚  Key          Description              Status       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚  AB12CD34...  Hotel Staff Mobile App   âœ… Enabled   â”‚
â”‚                                                      â”‚
â”‚  âœ… You should see your key listed here            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Step 7: Update Flutter App

Open your code editor (VS Code):

```dart
// File: lib/services/qloapps_api_service.dart
// Find line 18:

static const String apiKey = 'YOUR_QLOAPPS_API_KEY_HERE';

// Replace with:

static const String apiKey = 'AB12CD34EF56GH78IJ90KL12MN34OP56';
//                            â†‘ Your actual API key
```

**Save the file!** (Ctrl+S or Cmd+S)

---

## Step 8: Restart Flutter App

```bash
# Stop the app (if running)
Ctrl+C in terminal

# Or in VS Code, click the red stop button

# Start again
flutter run
```

---

## Step 9: Test API Connection

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“± Hotel Staff App                                 â”‚
â”‚                                                      â”‚
â”‚  Navigate to:                                       â”‚
â”‚  Dashboard > More > QloApps API Test                â”‚
â”‚                                                      â”‚
â”‚  You should see:                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ QloApps API Connection Test                 â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚ [Test Get Customers]                         â”‚    â”‚
â”‚  â”‚ [Test Get Hotels]                            â”‚    â”‚
â”‚  â”‚ [Test Get Products]                          â”‚    â”‚
â”‚  â”‚ [Test Create Customer]                       â”‚    â”‚
â”‚  â”‚ [Test Get Orders]                            â”‚    â”‚
â”‚  â”‚ [Test Get Bookings]                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                      â”‚
â”‚  Click each button - all should show:              â”‚
â”‚  âœ… Success!                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Step 10: Test Full Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Complete Guest Registration Flow                   â”‚
â”‚                                                      â”‚
â”‚  1. Dashboard > [New Guest]                         â”‚
â”‚     â†“                                               â”‚
â”‚  2. MRZ Scanner > Scan passport                     â”‚
â”‚     â†“                                               â”‚
â”‚  3. Auto-filled form appears                        â”‚
â”‚     â†“                                               â”‚
â”‚  4. [Capture ID Photos]                             â”‚
â”‚     â†“                                               â”‚
â”‚  5. Front photo > Back photo                        â”‚
â”‚     â†“                                               â”‚
â”‚  6. Preview > [Continue]                            â”‚
â”‚     â†“                                               â”‚
â”‚  7. [Submit Registration]                           â”‚
â”‚     â†“                                               â”‚
â”‚  8. âœ… Success! Guest created in QloApps           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Verify in QloApps Admin:
Customers > Search for the guest name
You should see the newly created customer!
```

---

## ğŸ¨ Visual Permission Matrix

```
Resource          GET  POST  PUT  DELETE  HEAD
                  ğŸ‘ï¸   â•    âœï¸    ğŸ—‘ï¸     âš¡
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
addresses          âœ…   âœ…    âœ…    âŒ     âœ…
bookings           âœ…   âŒ    âœ…    âŒ     âœ…
customer_messages  âœ…   âœ…    âŒ    âŒ     âœ…
customers          âœ…   âœ…    âœ…    âŒ     âœ…
employees          âœ…   âŒ    âŒ    âŒ     âœ…
extra_demands      âœ…   âœ…    âŒ    âŒ     âœ…
hotel_features     âœ…   âŒ    âŒ    âŒ     âœ…
hotel_room_types   âœ…   âŒ    âŒ    âŒ     âœ…
hotel_rooms        âœ…   âŒ    âœ…    âŒ     âœ…
hotels             âœ…   âŒ    âŒ    âŒ     âœ…
images             âœ…   âœ…    âŒ    âŒ     âœ…
order_details      âœ…   âŒ    âŒ    âŒ     âœ…
order_payments     âœ…   âœ…    âŒ    âŒ     âœ…
orders             âœ…   âŒ    âœ…    âŒ     âœ…
room_bookings      âœ…   âŒ    âœ…    âŒ     âœ…
services           âœ…   âŒ    âŒ    âŒ     âœ…

Legend:
ğŸ‘ï¸ GET     = View/Read data
â• POST    = Create new records
âœï¸ PUT     = Update existing records
ğŸ—‘ï¸ DELETE  = Delete records (NEVER enable!)
âš¡ HEAD    = Quick check (performance)
```

---

## ğŸš¨ Common Mistakes to Avoid

```
âŒ WRONG: Checking "All" checkbox
âœ… RIGHT: Manually check only required resources

âŒ WRONG: Enabling DELETE permissions
âœ… RIGHT: Leave all DELETE unchecked

âŒ WRONG: Forgetting to enable HEAD
âœ… RIGHT: Always enable HEAD with GET

âŒ WRONG: Copy-pasting API key with spaces
âœ… RIGHT: Trim whitespace before pasting

âŒ WRONG: Using HTTP in production
âœ… RIGHT: Always use HTTPS in production
```

---

## ğŸ¯ Quick Troubleshooting

### Problem: "Unauthorized" error
```
Check:
1. API key copied correctly (no spaces)
2. API key pasted in correct location (line 18)
3. App restarted after updating key
4. WebService is enabled in QloApps
```

### Problem: "Forbidden" error
```
Check:
1. Correct permissions enabled for that resource
2. Correct HTTP method enabled (GET/POST/PUT)
3. Status is "Enabled" for the API key
```

### Problem: "No data returned"
```
Check:
1. Data exists in QloApps (create test customer)
2. Network connection between app and server
3. QloApps server is running
4. URL is correct (http://localhost/1.IDM/api)
```

---

## ğŸ“Š Setup Time Estimate

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Task                          Time      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Access admin panel            1 min    â”‚
â”‚ Navigate to webservice        1 min    â”‚
â”‚ Generate API key              2 min    â”‚
â”‚ Set permissions (16 resources) 5 min   â”‚
â”‚ Update Flutter app            2 min    â”‚
â”‚ Test connection               3 min    â”‚
â”‚ Verify full workflow          5 min    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TOTAL                         ~19 min   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’¡ First time: 20-30 minutes (learning)
âš¡ Second time: 10-15 minutes (experienced)
```

---

## âœ… Final Checklist

Before considering setup complete:

```
â–¡ WebService enabled in QloApps
â–¡ API key generated (32 characters)
â–¡ Description set to "Hotel Staff Mobile App"
â–¡ Status set to "Enabled"
â–¡ 16 resources configured with correct permissions
â–¡ No "Delete" permissions enabled
â–¡ API key copied to Flutter app (line 18)
â–¡ No whitespace in API key
â–¡ App restarted
â–¡ Test screen shows all âœ… green
â–¡ Created test guest successfully
â–¡ Guest appears in QloApps admin
â–¡ Full workflow tested: Scan â†’ Capture â†’ Register
â–¡ Documentation saved for future reference
```

---

## ğŸ‰ Success Indicators

You'll know it's working when:

1. **QloApps Test Screen:**
   - All buttons show âœ… Success
   - Response data is displayed
   - No error messages

2. **Guest Registration:**
   - Form auto-fills from scanned data
   - Photos upload without errors
   - Success message appears
   - Guest shows in QloApps admin

3. **Performance:**
   - API calls complete in < 2 seconds
   - No timeout errors
   - Smooth user experience

---

_Follow these steps exactly and you'll have a working QloApps integration in under 30 minutes!_

_Last Updated: October 27, 2025_
